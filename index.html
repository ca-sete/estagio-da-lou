<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Status do Estágio e Frase do Dia</title>
    <style>
        /* Estilo para o widget */
        body {
            font-family: 'Comic Sans MS', sans-serif;
            background-color: #FFFAE3;
            color: #333;
            text-align: center;
            padding: 20px;
        }
        #widget {
            background-color: #FFF;
            border: 2px solid #FFD700;
            padding: 20px;
            margin: 0 auto;
            width: 80%;
            max-width: 400px;
            border-radius: 15px;
            box-shadow: 0 0 10px #999;
        }
        h2 {
            color: #FF4500;
            text-shadow: 1px 1px 2px #FFA500;
            font-size: 24px;
        }
        p {
            font-size: 16px;
            color: #333;
            margin-top: 10px;
        }

        /* Estilo para o título da frase do dia */
        .colorful-title {
            display: inline-block;
            font-size: 24px;
            text-transform: lowercase;
        }

        /* Estilo para as imagens */
        .image-box {
            margin-top: 30px;
            position: relative;
        }
        .image-box img {
            width: 100%;
            max-width: 600px;
            height: auto;
            max-height: 400px;
        }
        .image-box p {
            position: absolute;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            color: yellow;
            text-shadow: 2px 2px 4px black;
            font-weight: bold;
            font-size: 20px;
            text-align: center;
            width: 90%;
        }
    </style>
</head>
<body>

    <div id="widget">
        <h2>Status do Estágio</h2>
        <p id="time-left"></p>
        <p id="work-status"></p>
        <p id="end-date"></p>
    </div>

    <div class="image-box">
        <span class="colorful-title" id="frase-titulo"></span>
        <img id="frase-imagem" src="" alt="frase do dia imagem">
        <p id="frase-texto"></p>
    </div>

    <script>
        const totalHours = 224;  // Atualizado para 224 horas
        const workedHours = 24;
        const hoursPerDay = 8;
        const daysPerWeek = 5;
        const lastDay = "15 de October ☠️";  // Último dia agora é 15 de outubro

        // Função para exibir a data final em português
        function updateEndDate() {
            const options = { day: 'numeric', month: 'long' };
            const lastDayDate = new Date(2024, 9, 15);  // 15 de outubro
            const lastDayFormatted = lastDayDate.toLocaleDateString('pt-BR', options);
            document.getElementById("end-date").innerText = `Último dia de estágio: ${lastDayFormatted} ☠️`;
        }

        // Calculando o tempo restante do dia de trabalho
        function updateTimeLeftToday() {
            const now = new Date();
            const startHour = 8;
            const workEndHour = 17;

            let timeLeftMessage;

            if (now.getHours() < startHour) {
                timeLeftMessage = "O expediente de hoje ainda não começou.";
            } else if (now.getHours() >= workEndHour) {
                timeLeftMessage = "O expediente de hoje já acabou.";
            } else {
                const endOfDay = new Date();
                endOfDay.setHours(workEndHour, 0, 0, 0);

                let timeLeftMillis = endOfDay - now;
                let hoursLeft = Math.floor((timeLeftMillis / (1000 * 60 * 60)) % 24);
                let minutesLeft = Math.floor((timeLeftMillis / (1000 * 60)) % 60);

                timeLeftMessage = `Faltam ${hoursLeft} horas e ${minutesLeft} minutos para acabar o expediente de hoje.`;
            }

            document.getElementById("time-left").innerText = timeLeftMessage;
        }

        // Calculando o tempo restante em horas úteis
        function updateWorkStatus() {
            const remainingHours = totalHours - workedHours;
            const remainingDays = remainingHours / hoursPerDay;
            const remainingWeeks = remainingDays / daysPerWeek;
            const remainingMonths = remainingWeeks / 4.34524; // semanas em média no mês

            let statusMessage = `Faltam ${remainingHours} horas úteis para o fim do estágio.`;

            // Corrigir a concordância dos plurais
            if (remainingMonths >= 1) {
                statusMessage += ` Isso significa ${Math.floor(remainingMonths)} ` + (Math.floor(remainingMonths) === 1 ? "mês" : "meses");
            }

            if (remainingWeeks >= 1) {
                statusMessage += `, ${Math.floor(remainingWeeks)} ` + (Math.floor(remainingWeeks) === 1 ? "semana" : "semanas");
            }

            statusMessage += ` e ${Math.ceil(remainingDays)} ` + (Math.ceil(remainingDays) === 1 ? "dia" : "dias") + ` de trabalho.`;

            document.getElementById("work-status").innerText = statusMessage;
        }

        // Lista de frases do dia
        const frases = [
            "Trabalhe duro em silêncio e deixe o sucesso fazer barulho!",
            "Não há atalhos para o topo da montanha.",
            "A persistência é o caminho do êxito.",
            "Pequenos progressos diários levam a grandes resultados.",
            "Cada passo, por menor que seja, é um passo em direção ao seu objetivo.",
            "O sucesso é a soma de pequenos esforços repetidos dia após dia.",
            "Acredite no processo. Tudo o que você faz hoje está construindo seu amanhã.",
            "Levante, trabalhe e repita. Isso é o que traz resultados.",
            "A ação é a chave para o sucesso!",
            "Determinação hoje, realização amanhã!"
        ];

        // Lista de URLs das imagens
        const imagens = [
            "https://www.syfy.com/sites/syfy/files/2021/06/shrekfest-shrek-super-slam.png",
            "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcREsT_cVhOLHriUK8IiafGoPNSXFSy2MyVe5XKA4fBIjfyOK2-CxOa0h9JUs_XDr9xE-X8&usqp=CAU",
            "https://content.imageresizer.com/images/memes/smart-shrek-meme-5.jpg",
            "https://p19-pu-sign-useast8.tiktokcdn-us.com/tos-useast5-p-0068-tx/8ddd7fb0fc5a4640abe36b9ba61be215_1671160550~tplv-photomode-zoomcover:480:480.jpeg?lk3s=b59d6b55&x-expires=1726225200&x-signature=Hr9OkJ9qoqEkwx7gdO8P8NDmQtc%3D&shp=b59d6b55&shcp=-",
            "https://i.pinimg.com/736x/12/82/1a/12821aef23d6a0615e08d056bf5018e1.jpg",
            "https://community-lens.storage.googleapis.com/preview-media/thumbnail_poster/b4d7248b-a249-4d55-9b39-067ee820f884.jpg",
            "https://www.theoakleafnews.com/wp-content/uploads/2021/04/shrek_and_donkey_face_swap___by_ogreboi21savage_dbddmc7-fullview.jpg",
            "https://orcatalks.wordpress.com/wp-content/uploads/2020/10/photo_2020-10-25_22-05-00.jpg?w=1200&h=715&crop=1",
            "https://uploads.dailydot.com/2018/09/shrek_what_are_you_doing_swamp.png?auto=compress&fm=png",
            "https://image-pastemagazine-com-public-bucket.storage.googleapis.com/wp-content/uploads/2022/06/21060547/shrek_irony_main.jpg"
        ];

        // Função para alternar as cores das letras do título "frase do dia"
        function alternarCoresTitulo() {
            const titulo = "frase do dia";
            let colors = ["red", "green", "blue", "purple", "orange", "yellow"];
            let coloredTitle = "";
            for (let i = 0; i < titulo.length; i++) {
                const randomColor = colors[Math.floor(Math.random() * colors.length)];
                coloredTitle += `<span style="color: ${randomColor}">${titulo[i]}</span>`;
            }
            document.getElementById("frase-titulo").innerHTML = coloredTitle;
        }

        // Função para exibir uma frase e imagem aleatória
        function exibirFraseDoDia() {
            const fraseIndex = Math.floor(Math.random() * frases.length);
            const imagemIndex = Math.floor(Math.random() * imagens.length);
            const frase = frases[fraseIndex];
            const imagem = imagens[imagemIndex];

            document.getElementById("frase-texto").innerText = frase;
            document.getElementById("frase-imagem").src = imagem;
        }

        // Atualizar o widget ao carregar a página
        updateTimeLeftToday();
        updateWorkStatus();
        updateEndDate();
        alternarCoresTitulo();
        exibirFraseDoDia();

        // Atualizar o tempo restante para o fim do expediente a cada minuto
        setInterval(updateTimeLeftToday, 60000);
    </script>

</body>
</html>
